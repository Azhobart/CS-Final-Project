<!DOCTYPE html>

<html>
  <head>
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link
      href="https://fonts.cdnfonts.com/css/ernest-borgnine"
      rel="stylesheet"
    />
  </head>
  <body class="container">
    <div id="app">
      <nav>
        <h1>Online Arcade</h1>
      </nav>
      <nav
        v-if="page != 'login' && page != 'register' && page != 'authentication'"
      >
        <h3>{{currentUser.username}}hi</h3>
        <button @click="setPage('home')">Games</button>
        <button @click="setPage('leaderboard')">Leaderboard</button>
        <button @click="setPage('profile')">Profile</button>
      </nav>

      <!-- log-in page (Username Field) -->
      <div id="loginField" v-if="page === 'login'">
        <div class="sectionContainer">
          <h3>Login:</h3>
          <div class="inputContainer">
            <p>Username:</p>
            <input v-model="this.user.username" />
          </div>
          <div class="inputContainer">
            <button @click="setPage('authentication'); getUserByUsername()">
              Next
            </button>
            <p>
              Don't have an account?
              <span @click="setPage('register')">Sign-up!</span>
            </p>
          </div>
        </div>
        
      </div>

      <!-- log-in page (Authentication Field) -->
      <div id="authField" v-if="page === 'authentication'">
        <div class="sectionContainer">
          <h3>Authentication:</h3>
          <div class="inputContainer">
            <p>{{this.user.authQuestion}}</p>
            <input v-model="user.authAnswer" />
          </div>
          <div class="inputContainer">
            <button @click="loginUser()">Login</button>
          </div>
        </div>
        </form>
      </div>

      <!-- register page -->
      <div id="registerField" v-show="page === 'register'">
        <div class="sectionContainer">
          <h3>Register:</h3>
          <!-- name -->
          <div class="inputContainer">
            <p>Name:</p>
            <input v-model="user.name"/>
          </div>
          <!-- username -->
          <div class="inputContainer">
            <p>Username:</p>
            <input v-model="user.username"/>
          </div>
          <!-- authentication question -->
          <div class="inputContainer">
            <p>Authentication Question:</p>
            <input v-model="user.authQuestion"/>
          </div>
          <!-- authentication answer -->
          <div class="inputContainer">
            <p>Authentication Answer:</p>
            <input v-model="user.authAnswer"/>
          </div>
          <!-- user region -->
          <div class="inputContainer">
            <p>Region:</p>
            <input v-model="user.region"/>
          </div>
          <!-- submit -->
          <div class="inputContainer">
            <button @click="setPage('login'); registerUser()">Register</button>
            <p>
              Already have an account?
              <span @click="setPage('login');">Login!</span>
            </p>
          </div>
        </div>
      </div>

      <div class="page" v-if="page === 'home'">
        <div class="sectionContainer">
          <div class="column">
            <div class="inputContainer row searchInput">
              <input placeholder="Search..." />
              <button>Search</button>
            </div>
            <div class="gameListDiv">
              <div class="row" v-for="game in games">
                <div class="gameThumbnail column" @click="setPage(game.name)">
                  <div
                    v-bind:style="{backgroundImage: 'url(' + game.image + ')'}"
                  ></div>
                  <p>{{ game.name }}</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="page" v-if="page === 'leaderboard'">
        <div class="sectionContainer">
          <div class="column">
            <div class="inputContainer row searchInput">
              <input placeholder="Search..." />

              <select>
                <option v-for="game in games" value="game.name">{{game.name}}</option>
              </select>
              <select>
                <option v-for="region in regions" value="region.code">{{region.code}} - {{region.name}}</option>
              </select>
            </div>

            <div class="scoreTableRow" v-for="(score, indx) in scores">
              <p>{{indx}}.</p>
              <p>{{score.user.username}}</p>
              <p>{{score.value}}</p>
              <p>{{score.game}}</p>
              <p>{{score.user.region}}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="app.js"></script>
  </body>
</html>
